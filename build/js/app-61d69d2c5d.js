/**
 * naturenet - nature-net.org website
 * @authors 
 * @version v0.0.1
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.layout","app.auth","app.home","app.explore","app.communities","app.projects","app.ideas"])}(),function(){"use strict";angular.module("app.auth",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.communities",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","firebase","ngMap","ngplus"])}(),function(){"use strict";angular.module("app.explore",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.home",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.ideas",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.layout",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.projects",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.widgets",["app.core"])}(),function(){"use strict";function e(e,t,i,a,n){function s(){var t=[r(),m(),p()];return e.all(t).then(function(){a.info("Authentication Ready")})}function r(){return n.onAuth().then(function(e){return e?(D.userUid=e.uid,t.$broadcast("auth:success",D.userUid),D.userUid):void 0})}function o(){var e={display_name:D.name,name:D.realname,bio:D.bio,email:D.email,affiliation:D.affiliation.$id};return n.createUser(D.email,D.password).then(function(t){D.userUid=t.uid,e.uid=t.uid,l(D.email,D.password).then(function(){return u(e)})})}function c(){var e={display_name:D.name,name:D.realname,bio:D.bio,affiliation:D.affiliation.$id,groups:D.membership,uid:D.userUid,demographics:{age:D.age,gender:D.gender,race:D.race}};return n.updateUser(e).then(function(e){return a.success("Your profile has been updated!"),b(),D.userUid})}function l(e,i){return n.authWithPassword(e,i).then(function(e){return D.userUid=e.uid,t.$broadcast("auth:success",D.userUid),b(),a.success("You are now logged in!"),D.userUid})}function d(){return n.unAuth()}function u(e){return n.addUser(e).then(function(e){return a.success("Welcome to NatureNet!"),e})}function m(){return n.getArray("sites").then(function(e){D.sites=e})}function p(){return n.getArray("groups").then(function(e){D.groups=e})}function v(){var e=n.getAuth();e?n.getActiveUserDetails().then(function(e){var t=e[0],i=e[1];D.name=t.display_name,D.realname=i.name,D.affiliation=D.sites.$getRecord(t.affiliation),D.bio=t.bio,D.membership=t.groups,D.age=i.demographics.age,D.gender=i.demographics.gender,D.race=i.demographics.race}):a.warning("User is not logged in! Nothing to update.")}function g(){D.mode="update",v()}function f(){D.mode="register"}function h(){D.mode="signin"}function b(){t.$broadcast("auth:hide"),k()}function _(e,t){$()&&l(e,t)}function y(){$()&&("update"===D.mode?c():o())}function w(){return 0===D.email.length?(a.error("No email address was entered."),!1):n.resetPassword(D.email).then(function(e){a.success("Please check the provided email address for instructions.")})}function $(){return 0===D.email.length&&"update"!==D.mode?(a.error("No email address was entered."),!1):0===D.password.length&&"update"!==D.mode?(a.error("No password was entered."),!1):0===D.name.length&&"signin"!==D.mode?(a.error("No username was entered."),!1):0===D.realname.length&&"signin"!==D.mode?(a.error("No name was entered."),!1):0===D.affiliation.length&&"signin"!==D.mode?(a.error("No affiliation was entered."),!1):!0}function k(){D.mode=null,D.email="",D.password="",D.name="",D.realname="",D.bio="",D.affiliation="",D.membership={},D.age="",D.gender="",D.race={}}var D=this;D.userUid=void 0,D.newUserObject=void 0,D.email="",D.password="",D.name="",D.realname="",D.bio="",D.affiliation="",D.membership={},D.ageOptions=["8-14","15-17","18-24","25-44","45-64","65+","Prefer not to disclose"],D.genderOptions=["Male","Female","Other","Prefer not to disclose"],D.raceOptions=["Black or African American","American Indian or Alaskan Native","Asian","Native Hawaiian or Other Pacific Islander","White","Some other race"],D.age="",D.gender="",D.race={},D.mode=null,D.login=_,D.apply=y,D.close=b,D.reset=w,s(),t.$on("account:edit",g),t.$on("register:show",f),t.$on("signin:show",h),t.$on("auth:hide",k),t.$on("signout",d)}angular.module("app.auth").controller("AuthController",e),e.$inject=["$q","$rootScope","$filter","logger","dataservice"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",i)}function i(e,t,i){return function(a,n){var s=t.config.appErrorPrefix||"",r={exception:a,cause:n};a.message=s+a.message,e(a,n),i.error(a.message,r)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,t){function i(i){return function(a){var n,s;return a.code&&a.message&&(n="\n"+a.message,s=i+n),a.message=s,t.error(s),e.reject(a)}}var a={catcher:i};return a}e.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(e,t){function i(i,a,n){t.error(i,n),e.error("Error: "+i,a)}function a(t,i,a){e.info("Info: "+t,i)}function n(i,a,n){t.success(i,n),e.info("Success: "+i,a)}function s(t,i,a){e.warn("Warning: "+t,i)}var r={showToasts:!0,error:i,info:a,success:n,warning:s,log:e.log};return r}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,t,i){function a(e,a,s,r){function o(e,a){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},n.resolveAlways),t.state(e.state,e.config)}),a&&!p&&(p=!0,i.otherwise(a))}function c(){a.$on("$stateChangeError",function(t,i,a,n,s,o){if(!m){v.errors++,m=!0;var c=i&&(i.title||i.name||i.loadedTemplateUrl)||"unknown target",l="Error routing to "+c+". "+(o.data||"")+". <br/>"+(o.statusText||"")+": "+(o.status||"");r.warning(l,[i]),e.path("/")}})}function l(){c(),u()}function d(){return s.get()}function u(){a.$on("$stateChangeSuccess",function(e,t,i,s,r){v.changes++,m=!1;var o=(t.title||"")+" "+n.docTitle;a.title=o,a.$broadcast("map:hide")})}var m=!1,p=!1,v={errors:0,changes:0},g={configureStates:o,getStates:d,stateCounts:v};return l(),g}var n={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(n,e)},this.$get=a,a.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,i,a,n,s){function r(){n.showSplash();var t=[o(),c(),l(),d()];return e.all(t).then(function(){n.hideSplash(),a.info("Activated Communities View")})}function o(){return s.getUsersRecent(1).then(function(e){return f(e[0].id),b.userId})}function c(){return s.getArray("users").then(function(e){return b.users=e,b.users})}function l(){return s.getArray("groups").then(function(e){return b.groups=e,b.groups})}function d(){return s.getArray("sites").then(function(e){return b.sites=e,b.sites})}function u(e){return s.getObservationsArrayByUserId(e).then(function(e){return b.userObservations=e,b.numberOfObservations=0,b.userObservations})}function m(e){return s.getGroupsByUserId(e).then(function(e){return b.userGroups=e,b.userGroups})}function p(e){t.users[e]&&t.users[e].avatar?b.userAvatar=t.users[e].avatar:b.userAvatar="images/default-avatar.png"}function v(e){return t.users[e].affiliation?s.getSiteById(t.users[e].affiliation).then(function(e){return b.userSite=e.name,b.userSite}):(b.userSite="",b.userSite)}function g(){var e=s.getAuth();b.isSelf=e&&e.uid===b.userId}function f(t){var i=[u(t),m(t),v(t)];return e.all(i).then(function(){b.userId=t,b.observationsDisplayLimit=b.displayLimit,b.groupsDisplayLimit=b.displayLimit,p(t),g(),a.info("Updated Communities View based on new userId")})}function h(){t.$broadcast("account:edit")}var b=this;b.title="Communities",b.sidebarDisplayLimit=5,b.mainDisplayLimit=6,b.userId=void 0,b.userSite="",b.userAvatar="",b.isSelf=!1,b.users=[],b.groups=[],b.sites=[],b.userObservations=[],b.userGroups=[],b.peopleDisplayLimit=b.sidebarDisplayLimit,b.groupsDisplayLimit=b.sidebarDisplayLimit,b.observationsDisplayLimit=b.mainDisplayLimit,b.groupsDisplayLimit=b.mainDisplayLimit,b.isPeopleListVisible=!0,b.isGroupsListVisible=!0,b.updateUserId=f,b.showUpdate=h,b.formatDate=n.formatDate,r()}angular.module("app.communities").controller("CommunitiesController",e),e.$inject=["$q","$rootScope","$filter","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"communities",config:{url:"/communities",templateUrl:"app/communities/communities.html",controller:"CommunitiesController",controllerAs:"vm",title:"Communities",settings:{nav:2,content:"Communities"}}}]}angular.module("app.communities").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.options.timeOut=8e3,e.options.positionClass="toast-bottom-right"}function t(e,t,i){e.debugEnabled&&e.debugEnabled(!0),i.configure(a.appErrorPrefix),t.configure({docTitle:" | "+a.appTitle})}var i=angular.module("app.core");i.config(e),e.$inject=["toastr"];var a={appErrorPrefix:"[NN Error] ",appTitle:"NatureNet",mapOptions:{zoom:5,minZoom:3,zoomControl:!0,scaleControl:!1,streetViewControl:!1,keyboardShortcuts:!1}};i.value("config",a),i.config(t),t.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"],i.constant("FirebaseName","naturenet"),i.config(["FirebaseName",function(e){firebase.initializeApp({apiKey:"AIzaSyAm--uHylcDf4J5wGroMzPeKmw6uIDnVr8",authDomain:e+".firebaseapp.com",databaseURL:"https://"+e+".firebaseio.com",storageBucket:e+".appspot.com"}),firebase.database.enableLogging(!1)}]),i.config(["FirebaseName","$firebaseRefProvider",function(e,t){t.registerUrl({"default":"https://"+e+".firebaseio.com",projects:"https://"+e+".firebaseio.com/activities",comments:"https://"+e+".firebaseio.com/comments",projectSites:"https://"+e+".firebaseio.com/geo/activities",groups:"https://"+e+".firebaseio.com/users",ideas:"https://"+e+".firebaseio.com/ideas",observations:"https://"+e+".firebaseio.com/observations",sites:"https://"+e+".firebaseio.com/sites",users:"https://"+e+".firebaseio.com/users",usersPrivate:"https://"+e+".firebaseio.com/users-private"})}])}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e){var i="/404";e.configureStates(t(),i)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}e.$inject=["routerHelper"],angular.module("app.core").run(e)}(),function(){"use strict";function e(e,t,i,a,n,s,r,o,c){function l(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getArray")(e)}var a=n["default"].child(e).orderByChild("updated_at").limitToLast(50),s=d(a);return s.$loaded().then(t)["catch"](i)}function d(e){return new r(e,function(e){return!(e.hasOwnProperty("status")&&"deleted"===e.status.toLowerCase())})}function u(e){return e.updated_at=firebase.database.ServerValue.TIMESTAMP,e.hasOwnProperty("created_at")||(e.created_at=firebase.database.ServerValue.TIMESTAMP),e}function m(){var t=e.defer(),i=firebase.auth();return i.onAuthStateChanged(function(e){t.resolve(e)}),t.promise}function p(){return firebase.auth().currentUser}function v(e,t){function i(e){return e}function n(e){return o.catcher("Failed for dataservice.authWithPassword")(e)}var s=a(firebase.auth());return s.$signInWithEmailAndPassword(e,t).then(i)["catch"](n)}function g(){var e=a(firebase.auth());return e.$signOut()}function f(e,t){function i(e){return e}function n(e){return o.catcher("Failed for dataservice.createUser")(e)}var s=a(firebase.auth());return s.$createUserWithEmailAndPassword(e,t).then(i)["catch"](n)}function h(t){function i(e){s.resolve("success")}function a(e){s.reject(o.catcher("Failed for dataservice.addUser")(e))}var s=e.defer(),r=t.uid,c={};return c["users-private/"+r]=u({id:r,name:t.name}),c["users/"+r]=u({id:r,display_name:t.display_name,affiliation:t.affiliation,bio:t.bio}),n["default"].update(c,function(e){e?a(e):i()}),s.promise}function b(t){function i(e){s.resolve("success")}function a(e){s.reject(o.catcher("Failed for dataservice.updateUser")(e))}var s=e.defer(),r=t.uid,c={};c["users-private/"+r+"/id"]=r,c["users-private/"+r+"/name"]=t.name,c["users-private/"+r+"/demographics"]=t.demographics,c["users-private/"+r+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP,c["users/"+r+"/id"]=r,c["users/"+r+"/display_name"]=t.display_name,c["users/"+r+"/affiliation"]=t.affiliation,c["users/"+r+"/bio"]=t.bio,c["users/"+r+"/groups"]=t.groups||null,c["users/"+r+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP;for(var l in t.groups)c["groups/"+l+"/members/"+r]=t.groups[l];return n["default"].update(c,function(e){e?a(e):i()}),s.promise}function _(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.resetPassword")(e)}var n=a(firebase.auth());return n.$sendPasswordResetEmail({email:e}).then(t)["catch"](i)}function y(){function e(e){return e}function i(e){return o.catcher("Failed for dataservice.getUsers")(e)}return t(n.users).$loaded().then(e)["catch"](i)}function w(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getUsersRecent")(e)}var a=n.users.orderByChild("created_at").limitToLast(e),s=d(a);return s.$loaded().then(t)["catch"](i)}function $(){function i(e){return e}function a(e){return o.catcher("Failed for dataservice.getCurrentUser")(e)}var s=p();if(null===s||!s.uid)return console.log("User is not signed in."),e.when(null);var r=t(n.users.child(s.uid));return r.$loaded().then(i)["catch"](a)}function k(){function i(e){return e}function a(e){return o.catcher("Failed for dataservice.getActiveUserDetails")(e)}var s=p();if(null===s||!s.uid)return console.log("User is not signed in."),e.when(null);var r=t(n.users.child(s.uid)),c=t(n.usersPrivate.child(s.uid));return e.all([r.$loaded(),c.$loaded()]).then(i)["catch"](a)}function D(){function e(e){return e}function i(e){return o.catcher("Failed for dataservice.getGroups")(e)}return t(n.groups).$loaded().then(e)["catch"](i)}function A(e){function i(e){return e}function a(e){return o.catcher("Failed for dataservice.getGroupById")(e)}return t(n.groups.child(e)).$loaded().then(i)["catch"](a)}function j(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getGroupsByUserId")(e)}var a=n.groups.orderByChild("members/"+e).equalTo(!0),s=d(a);return s.$loaded().then(t)["catch"](i)}function S(e){function i(e){return e}function a(e){return o.catcher("Failed for dataservice.getSiteById")(e)}return t(n.sites.child(e)).$loaded().then(i)["catch"](a)}function x(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getObservationsArrayByUserId")(e)}var a=n.observations.orderByChild("observer").equalTo(e),s=d(a);return s.$loaded().then(t)["catch"](i)}function C(t){function a(e){for(var t=[],i=0;i<e.length;++i)for(var a=0;a<e[i].length;++a)t.push(e[i][a]);return t}function s(e){return o.catcher("Failed for dataservice.getObservationsArrayByProjectId")(e)}var r=e.defer();return I(t).then(function(t){var o=[];for(var c in t){var l=n.observations.orderByChild("activity_location").equalTo(t[c]),d=i(l);o.push(d.$loaded())}r.resolve(e.all(o).then(a)["catch"](s))}),r.promise}function L(){function e(e){return e}function i(e){return o.catcher("Failed for dataservice.getProjects")(e)}return t(n.projects).$loaded().then(e)["catch"](i)}function U(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getProjectsRecent")(e)}var a=n.projects.orderByChild("updated_at").limitToLast(e),s=d(a);return s.$loaded().then(t)["catch"](i)}function I(t){function i(e){var t=[];for(var i in e.val())t.push(i);s.resolve(t)}function a(e){s.reject(o.catcher("Failed for dataservice.getProjectLocationIds")(e))}var s=e.defer(),r=n.projectSites.orderByChild("activity").equalTo(t);return r.on("value",i,a),s.promise}function O(t){var i=e.defer(),a=t.activity_location,s=n.projectSites.child(a);return s.once("value",function(e){if(e.exists()){var t=e.child("activity").val(),a=n.projects.child(t);a.once("value",function(e){e.exists()?i.resolve(e.val()):i.reject()})}else i.reject()}),i.promise}function P(e,t,i,a){function s(e){return e}function r(e){return o.catcher("Failed for dataservice.addIdea")(e)}var c=n.ideas.push().key,l=u({id:c,group:i,type:a,submitter:e,content:t,status:"doing"}),d={};return d["ideas/"+c]=l,d["users/"+e+"/latest_contribution"]=firebase.database.ServerValue.TIMESTAMP,n["default"].update(d).then(s)["catch"](r)}function N(e,i,a){var s=p();if(null===s||!s.uid)return void console.log("You must be signed in to do that!");var r=s.uid;t(n["default"].child(e+"/"+i.$id+"/likes")).$loaded().then(function(e){e[r]===a?delete e[r]:e[r]=a,e.$save()})}function E(e,t,i){var a=p();if(null===a||!a.uid)return void console.log("You must be signed in to do that!");var s=n.comments.push().key,r=u({id:s,parent:t.$id,context:e,comment:i,commenter:a.uid}),o={};o["comments/"+s]=r,o[e+"/"+t.$id+"/comments/"+s]=!0,n["default"].update(o)}function B(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getCommentsRecent")(e)}var a=n.comments.orderByChild("updated_at").limitToLast(e),s=d(a);return s.$loaded().then(t)["catch"](i)}function M(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getCommentsByUserId")(e)}var a=n.comments.orderByChild("commenter").equalTo(e),s=d(a);return s.$loaded().then(t)["catch"](i)}function T(e){function t(e){return e}function i(e){return o.catcher("Failed for dataservice.getCommentsForRecord")(e)}var a=n.comments.orderByChild("parent").equalTo(e.$id||e.id),s=d(a);return s.$loaded().then(t)["catch"](i)}var F={getArray:l,onAuth:m,getAuth:p,authWithPassword:v,unAuth:g,createUser:f,addUser:h,updateUser:b,resetPassword:_,getActiveUserDetails:k,getUsers:y,getUsersRecent:w,getActiveUser:$,getGroups:D,getGroupById:A,getGroupsByUserId:j,getSiteById:S,getObservationsArrayByUserId:x,getObservationsArrayByProjectId:C,getProjects:L,getProjectsRecent:U,getProjectForObservation:O,addIdea:P,likeContent:N,addComment:E,getCommentsRecent:B,getCommentsForRecord:T,getCommentsByUserId:M};return F}angular.module("app.core").factory("dataservice",e),e.$inject=["$q","$firebaseObject","$firebaseArray","$firebaseAuth","$firebaseRef","$filter","FilteredArray","exception","logger"]}(),function(){"use strict";function e(e,t){function i(e){var t=moment(+e).format("MMM DD YYYY").toString();return t}function a(){e.showSplash=!0,r+=1}function n(){r-=1,1>r&&(e.showSplash=!1)}var s={formatDate:i,showSplash:a,hideSplash:n},r=0;return s}function t(){return function(e){return!(e[i].hasOwnProperty("status")&&"deleted"===e[i].status.toLowerCase())}}angular.module("app.core").factory("utility",e).factory("FilteredArray",["$firebaseArray",function(e){function t(t,i){return this.filterFn=i,e.call(this,t)}return t.prototype.$$added=function(t){var i=e.prototype.$$added.call(this,t);return!this.filterFn||this.filterFn(i)?i:void 0},e.$extend(t)}]).service("notDeleted",t).filter("emptyToEnd",function(){return function(e,t){if(angular.isArray(e)){var i=e.filter(function(e){return e[t]}),a=e.filter(function(e){return!e[t]});return i.concat(a)}}}).filter("img_thumb",[function(){return function(e){return String(e).replace("upload/","upload/t_web-thumbnail/")}}]).filter("img_preview",[function(){return function(e){return String(e).replace("upload/","upload/t_web-preview/")}}]).filter("img_sidebar",[function(){return function(e){return String(e).replace("upload/","upload/t_web-sidebar/")}}]).filter("img_large",[function(){return function(e){return String(e).replace("upload/","upload/t_web-large/")}}]).filter("img_fullscreen",[function(){return function(e){return String(e).replace("upload/","upload/t_web-fullscreen")}}]),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t,i,a,n,s,r,o,c){function l(){r.showSplash();var t=[d()];return c.getMap().then(function(i){n.info("Google Maps Ready"),y.map=i,m(),e.all(t).then(function(){r.hideSplash(),n.info("Activated Map View")})})}function d(){return o.getArray("observations").then(function(e){return y.observations=e,y.observations})}function u(){h(y.currentObservation),p(y.currentObservation)}function m(){s.mapOptions.center=new google.maps.LatLng(39.833333,-98.583333),s.mapOptions.mapTypeId=google.maps.MapTypeId.HYBRID,y.map.setOptions(s.mapOptions),i.$broadcast("map:init"),t.$on("map:toggle",v),t.$on("map:show",g),t.$on("map:hide",f)}function p(e){if(e){var t=new google.maps.LatLng({lat:e.l[0],lng:e.l[1]}),i=y.map.getZoom();y.map.panTo(t),18>i&&y.map.setZoom(18)}}function v(){i.$parent.hasMap=!i.$parent.hasMap}function g(e,t){t&&(y.currentObservation=t),i.$parent.hasMap=!0}function f(){i.$parent.hasMap=!1}function h(e){y.currentObservation=e,y.hasSidebar=!0,y.showDetail=!1,y.currentProject=void 0,e&&o.getProjectForObservation(e).then(function(e){y.currentProject=e}),_(y.currentObservation)}function b(){y.hasSidebar=!1}function _(){return y.comments=void 0,y.currentObservation?o.getCommentsForRecord(y.currentObservation).then(function(e){return y.comments=e,y.comments}):void 0}var y=this;y.title="Explore",y.map=void 0,y.observations=void 0,y.currentObservation=void 0,y.currentProject=void 0,y.comments=void 0,i.$parent.hasMap=!1,y.hasSidebar=!1,y.isObservationsListVisible=!0,y.showDetail=!1,y.toggleMap=v,y.showSidebar=h,y.hideSidebar=b,y.formatDate=r.formatDate,l(),i.$watch("vm.currentObservation",u)}angular.module("app.explore").controller("ExploreController",e),e.$inject=["$q","$rootScope","$scope","$timeout","logger","config","utility","dataservice","NgMap"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"explore",config:{url:"/explore",templateUrl:"app/explore/explore.html",controller:"ExploreController",controllerAs:"vm",title:"Explore"}}]}angular.module("app.explore").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){function e(e,t,i){function a(){s=e.map,google.maps.event.addListener(s,"bounds_changed",n)}function n(){function e(){return-85>r?i=c-(r+85):a>85&&(i=c-(a-85)),t=new google.maps.LatLng(i,l),void s.setCenter(t)}var t=void 0,i=void 0,a=s.getBounds().getNorthEast().lat(),n=s.getBounds().getNorthEast().lng(),r=s.getBounds().getSouthWest().lat(),o=s.getBounds().getSouthWest().lng(),c=s.getCenter().lat(),l=s.getCenter().lng(),d=-85>r&&a>85,u=r>-85&&85>a,m=d||u,p=n>0&&180>n&&l>0,v=0>o&&o>-180&&0>l,g=p||v;if(m&&g);else if(!m)return e()}var s=void 0;e.$on("map:init",a)}var t={link:e,restrict:"A"};return t}angular.module("app.explore").directive("nnMapContain",e),e.$inject=[]}(),function(){"use strict";function e(e,t,i,a,n){function s(){a.showSplash();var t=[r(),o()];return e.all(t).then(function(){a.hideSplash(),i.info("Activated Home View")})}function r(){return n.getArray("observations").then(function(e){return l.observations=e,l.observations})}function o(){return n.getArray("ideas").then(function(e){return l.ideas=e,l.ideas})}function c(e){t.$broadcast("map:show",e)}var l=this;l.title="Home",l.observations=[],l.ideas=[],l.observationsDisplayLimit=5,l.ideasDisplayLimit=5,l.showObservation=c,l.formatDate=a.formatDate,s()}angular.module("app.home").controller("HomeController",e),e.$inject=["$q","$rootScope","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"home",config:{url:"/",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm",title:"Home",settings:{content:"Home"}}}]}angular.module("app.home").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,i,a,n,s){function r(){n.showSplash();var t=[c()];return e.all(t).then(function(){n.hideSplash(),a.info("Activated Design Ideas View")})}function o(){return v.comments=void 0,v.selectedIdea?s.getCommentsForRecord(v.selectedIdea).then(function(e){return v.comments=e,v.comments}):void 0}function c(){return s.getArray("ideas").then(function(e){v.ideas=[],v.challenges=[];var t=0,i=e.length;for(t;i>t;t++)e[t].group&&"challenge"===e[t].group.toLowerCase()?v.challenges.push(e[t]):v.ideas.push(e[t]);return!0})}function l(e,t,i,n){return s.addIdea(e,t,i,n).then(function(e){c().then(function(){p(),a.success("Idea successfully submitted!")})})}function d(){return s.onAuth().then(function(e){return v.uid=e.uid,v.uid})}function u(){0!==v.content.length&&d().then(function(){l(v.uid,v.content,v.group,v.type)})}function m(e){v.selectedIdea=e,v.showDetail=!0}function p(){v.content=""}var v=this;v.title="Design Ideas",v.sidebarDisplayLimit=3,v.uid=void 0,v.content="",v.group="idea",v.ideaTypes=["New Features","Project Ideas","Community Ideas","Improvement Ideas"],v.type=v.ideaTypes[0],v.ideas=[],v.challenges=[],v.currentIdeaId=void 0,v.currentChallengeId=void 0,v.comments=void 0,v.showDetail=!1,v.ideasDisplayLimit=v.sidebarDisplayLimit,v.challengesDisplayLimit=v.sidebarDisplayLimit,v.isIdeasListVisible=!0,v.isChallengesListVisible=!0,v.addIdea=u,v.formatDate=n.formatDate,v.selectIdea=m,r(),i.$watch("vm.selectedIdea",o)}angular.module("app.ideas").controller("IdeasController",e),e.$inject=["$q","$rootScope","$scope","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"ideas",config:{url:"/ideas",templateUrl:"app/ideas/ideas.html",controller:"IdeasController",controllerAs:"vm",title:"Design Ideas",settings:{nav:4,content:"Design Ideas"}}}]}angular.module("app.ideas").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,i,a,n){function s(){c()}function r(){return n.onAuth().then(function(e){return b.isAuthenticated=!0,b.userUid=e.uid,b.userUid})}function o(){b.isAuthenticated=!1,b.userUid=void 0,a.success("You are now logged out.")}function c(){b.navRoutes=_.filter(function(e){return e.settings&&e.settings.nav}).sort(function(e,t){return e.settings.nav-t.settings.nav})}function l(e){return d(e)+" "+u(e)}function d(e){return"item-"+e.name}function u(e){if(!e.title||!t.current||!t.current.title)return"";var i=e.title;return t.current.title.substr(0,i.length)===i?"is-current":""}function m(t){"boolean"==typeof t&&t?(e.$broadcast("map:show"),b.isMapActive=t):"boolean"!=typeof t||t?"boolean"!=typeof t&&(e.$broadcast("map:toggle"),b.isMapActive=!b.isMapActive):(e.$broadcast("map:hide"),b.isMapActive=t)}function p(){e.$broadcast("register:show")}function v(){e.$broadcast("signin:show")}function g(){e.$broadcast("signout"),o()}function f(){r()}function h(){b.isMapActive=!0}var b=this,_=i.getStates();b.userUid=void 0,b.isMapActive=!1,b.isAuthenticated=!1,b.getClasses=l,b.toggleMap=m,b.showRegister=p,b.showSignin=v,b.signOut=g,s(),e.$on("auth:success",f),e.$on("map:show",h)}angular.module("app.layout").controller("HeaderController",e),e.$inject=["$rootScope","$state","routerHelper","logger","dataservice"]}(),function(){"use strict";function e(e,t,i,a,n,s){function r(){i.info(a.appTitle+" loaded!",null),n.showSplash();var t=[o(),c(),l()];return e.all(t).then(function(){n.hideSplash()})}function o(){return s.getUsers().then(function(e){return t.users=e,t.users})}function c(){return s.getGroups().then(function(e){return t.groups=e,t.groups})}function l(){return s.getProjects().then(function(e){return t.projects=e,t.projects})}function d(){t.$broadcast("auth:hide")}function u(){p.isAuth=!0}function m(){p.isAuth=!1}var p=this;p.isAuth=!1,p.hideAuth=m,p.broadcastHideAuth=d,r(),t.$on("account:edit",u),t.$on("register:show",u),t.$on("signin:show",u),t.$on("auth:hide",m)}angular.module("app.layout").controller("ShellController",e),e.$inject=["$q","$rootScope","logger","config","utility","dataservice"]}(),function(){"use strict";function e(e,t,i,a,n){function s(){a.showSplash();var t=[r(),o()];return e.all(t).then(function(){var t=[c(d.projectId)];e.all(t).then(function(){a.hideSplash(),i.info("Activated Projects View")})})}function r(){return n.getProjectsRecent(1).then(function(e){return d.projectId=e[0].id,d.projectId})}function o(){return n.getArray("activities").then(function(e){return d.projects=t("orderBy")(e,"latest_contribution",!0),d.projects})}function c(e){return n.getObservationsArrayByProjectId(e).then(function(e){return d.projectObservations=e,d.projectObservations})}function l(t){var a=[c(t)];return e.all(a).then(function(){d.projectId=t,i.info("Updated Projects View based on new projectId")})}var d=this;d.title="Projects",d.displayLimit=6,d.projectId=void 0,d.projects=[],d.projectObservations=[],d.isProjectsListVisible=!0,d.updateProjectId=l,d.formatDate=a.formatDate,s()}angular.module("app.projects").controller("ProjectsController",e),e.$inject=["$q","$filter","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"projects",config:{url:"/projects",templateUrl:"app/projects/projects.html",controller:"ProjectsController",controllerAs:"vm",title:"Projects",settings:{nav:3,content:"Projects"}}}]}angular.module("app.projects").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){function e(e,t,i){}var t={scope:{avatarUrl:"@",title:"@",subtitle:"@"},link:e,templateUrl:"app/widgets/nn-badge.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnBadge",e)}(),function(){"use strict";function e(){function e(e,t,i){e.comment="",e.showDefault=!1,e.getUser()}function t(e,t){e.doComment=function(){t.addComment(e.context,e.data,e.comment),e.comment=""},e.getUser=function(){t.getActiveUser().then(function(t){return t&&(e.avatarUrl=t.avatar),t})}}var i={scope:{data:"=",context:"@",avatarUrl:"@",comment:"@"},link:e,templateUrl:"app/widgets/nn-comment-form.html",restrict:"EA",controller:["$scope","dataservice",t]};return i}angular.module("app.widgets").directive("nnCommentForm",e)}(),function(){"use strict";function e(e){function t(t,i,a){t.formatDate=e.formatDate,"[no description]"===t.comment?t.text="":t.text=t.comment}var i={scope:{avatarUrl:"@",name:"@",date:"@",comment:"@"},link:t,templateUrl:"app/widgets/nn-comment.html",restrict:"EA"};return i}angular.module("app.widgets").directive("nnComment",e),e.$inject=["utility"]}(),function(){"use strict";function e(e){function t(t,i,a){function n(){t.show=!1}t.formatDate=e.formatDate,t.hide=n}var i={scope:{item:"=",comments:"=",context:"@",show:"="},link:t,templateUrl:"app/widgets/nn-detail.html",restrict:"EA"};return i}angular.module("app.widgets").directive("nnDetail",e),e.$inject=["utility"]}(),function(){"use strict";function e(e,t){function i(e,t,i){function a(){e.options.some(function(t){return t===e.selectedOption})&&(e.isPlaceholder=void 0===e.selectedOption[e.property],e.display=e.selectedOption[e.property])}function n(t){return e.isPlaceholder?void 0:t[e.property]===e.selectedOption[e.property]?"is-current":""}function s(){e.listVisible=!e.listVisible}function r(t){e.isPlaceholder=!1,e.selectedOption=t,e.listVisible=!1,e.display=e.selectedOption[e.property]}e.listVisible=!1,e.isPlaceholder=!0,e.isCurrent=n,e.toggleOptions=s,e.selectOption=r,a()}var a={scope:{placeholder:"@",options:"=",selectedOption:"=",property:"@"},link:i,templateUrl:"app/widgets/nn-dropdown.html",restrict:"EA"};return a}angular.module("app.widgets").directive("nnDropdown",e),e.$inject=["$rootScope","logger"]}(),function(){"use strict";function e(){function e(e,t,i){e.showDefault=!1,e.imageUrl&&""!==e.imageUrl||(e.showDefault=!0);
}var t={scope:{imageUrl:"@"},link:e,templateUrl:"app/widgets/nn-image.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnImage",e)}(),function(){"use strict";function e(e,t){function i(i,a,n){function s(t){e.$broadcast("map:show",t)}function r(){i.limit=parseInt(i.limit)+parseInt(c)}function o(){i.limit=parseInt(c)}i.$watch("observations",o);var c=i.limit.slice(0);i.formatDate=t.formatDate,i.showObservation=s,i.incrementLimit=r}var a={scope:{observations:"=",limit:"@",expandable:"@"},link:i,templateUrl:"app/widgets/nn-observations-list.html",restrict:"EA"};return a}angular.module("app.widgets").directive("nnObservationsList",e),e.$inject=["$rootScope","utility"]}(),function(){"use strict";function e(){function e(e,t,i){function a(){e.likes=n("likes",!0),e.dislikes=n("likes",!1),e.comments=n("comments"),e.data.likes&&(e.liked=e.data.likes[e.uid]===!0,e.disliked=e.data.likes[e.uid]===!1)}function n(t,i){if(e.data[t]){var a=0,n=void 0;for(n in e.data[t])"undefined"!=typeof i&&e.data[t][n]!==i||a++;return a}return 0}e.$watchCollection("data.likes",a),e.$watchCollection("data.comments",a)}function t(e,t){var i=t.getAuth();e.uid=i?i.uid:null,e.doLike=function(){e.context&&t.likeContent(e.context,e.data,!0)},e.doDislike=function(){e.context&&t.likeContent(e.context,e.data,!1)}}var i={scope:{data:"=",showDislikes:"@",context:"@"},link:e,templateUrl:"app/widgets/nn-social-totals.html",restrict:"EA",controller:["$scope","dataservice",t]};return i}angular.module("app.widgets").directive("nnSocialTotals",e)}(),function(){"use strict";function e(){function e(e,t,i){}var t={scope:{status:"="},link:e,templateUrl:"app/widgets/nn-status.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnStatus",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/auth/auth.html",'<div class="auth -center" ng-click=$event.stopPropagation()><div class=auth__header><div class="auth__avatar -centerh"></div><div class=auth__close ng-click=vm.close()></div></div><div ng-if="vm.mode === \'register\'" ng-include="\'app/auth/register.html\'"></div><div ng-if="vm.mode === \'signin\'" ng-include="\'app/auth/signin.html\'"></div><div ng-if="vm.mode === \'update\'" ng-include="\'app/auth/edit.html\'"></div></div>'),e.put("app/auth/edit.html",'<form novalidate class="auth__form auth__form--register" ng-submit=vm.apply()><div class=auth__form style="max-height: 420px; width: 100%; overflow-y: scroll;"><div class=auth__text>You may update your user profile by making changes to any of this information.</div><div class=auth__form><input class=auth__field required placeholder=Username type=text ng-model=vm.name> <input class=auth__field required placeholder=Name type=text ng-model=vm.realname> <input class=auth__field placeholder=Bio type=text ng-model=vm.bio><select class=auth__field required placeholder="Site Affiliation" ng-model=vm.affiliation ng-options="s.name for s in vm.sites"><option disabled selected hidden value>Site Affiliation</option></select><div class=auth__form><p>Groups</p><label ng-repeat="g in vm.groups"><input class=auth__field type=checkbox ng-model=vm.membership[g.id]> {{g.name}}</label></div></div><div class=auth__text>We are interested in learning more about who uses NatureNet. The following questions are optional AND ANY RESPONSES YOU CHOOSE TO PROVIDE WILL BE VISIBLE ONLY TO RESEARCHERS.</div><div class=auth__form><div class=auth__form><p>What is your age range?</p><select class=auth__field required placeholder=Age ng-model=vm.age ng-options="a for a in vm.ageOptions"><option disabled selected hidden value>Age</option></select><p>What is your gender?</p><select class=auth__field required placeholder=Gender ng-model=vm.gender ng-options="g for g in vm.genderOptions"><option disabled selected hidden value>Gender</option></select></div><div class=auth__form><p>What is your primary racial identity?</p><label ng-repeat="r in vm.raceOptions"><input class=auth__field placeholder=Race type=checkbox ng-model=vm.race[r]> {{r}}</label></div></div></div><input class="button button--auth" value=apply type=submit></form>'),e.put("app/auth/register.html",'<form novalidate class="auth__form auth__form--register" ng-submit=vm.apply()><div class=auth__text>You are invited to participate in NatureNet, a research project being conducted by the researchers listed at <a href=http://research.nature-net.org/people.html target=_blank>http://research.nature-net.org/people.html</a>.</div><div class=auth__form><input class=auth__field required placeholder=Username type=text ng-model=vm.name> <input class=auth__field required placeholder=password type=password ng-model=vm.password> <input class=auth__field required placeholder=Name type=text ng-model=vm.realname> <input class=auth__field required placeholder=email type=text ng-model=vm.email><select class=auth__field required placeholder="Site Affiliation" type=text ng-model=vm.affiliation ng-options="s.name for s in vm.sites"><option disabled selected hidden value>Site Affiliation</option></select><input class="button button--auth" value=join type=submit></div></form>'),e.put("app/auth/signin.html",'<form class="auth__form auth__form--signin" ng-submit="vm.login(vm.email, vm.password)"><div class=auth__logo></div><input class=auth__field placeholder=email type=text ng-model=vm.email> <input class=auth__field placeholder=password type=password ng-model=vm.password><p class=auth__reset ng-click=vm.reset()>Reset my password</p><input class="button button--auth" value="sign in" type=submit></form>'),e.put("app/communities/communities.html",'<div class="sidebar sidebar--communities"><header class="sidebar__header sidebar__header--people"><div class="dropdown dropdown--people" ng-class="{ \'dropdown--show-list\': !!vm.isPeopleListVisible }"><div class=dropdown__display ng-click="vm.isPeopleListVisible = !vm.isPeopleListVisible"><span>People</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=dropdown__option ng-repeat="u in vm.users | orderBy: \'-created_at\' | orderBy: \'-latest_contribution\' | emptyToEnd: \'latest_contribution\' | limitTo: vm.peopleDisplayLimit" ng-click=vm.updateUserId(u.id)><nn-badge class=badge title={{u.display_name}} subtitle={{vm.sites[u.affiliation].name}} avatar-url={{u.avatar}}></nn-badge></div><div class=sidebar__see-more ng-if="vm.users.length > vm.peopleDisplayLimit"><a href=# ng-click="vm.peopleDisplayLimit = vm.peopleDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div></div></div></header><header class="sidebar__header sidebar__header--groups" ng-if=false><div class="dropdown dropdown--groups" ng-class="{ \'dropdown--show-list\': !!vm.isGroupsListVisible }"><div class=dropdown__display ng-click="vm.isGroupsListVisible = !vm.isGroupsListVisible"><span>Groups</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=dropdown__option ng-repeat="g in vm.groups | orderBy: \'-updated_at\' | limitTo: vm.groupsDisplayLimit"><nn-badge class=badge title={{g.name}} subtitle={{vm.sites[g.affiliation].name}} avatar-url={{g.avatar}}></nn-badge></div><div class=sidebar__see-more ng-if="vm.groups.length > vm.groupsDisplayLimit"><a href=# ng-click="vm.groupsDisplayLimit = vm.groupsDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div></div></div></header></div><div class="main main--with-sidebar main--communities"><section class="main__section masthead" ng-if=vm.userId><header class=masthead__header><div class=masthead__avatar ng-style="{ \'background-image\' : \'url(\' + vm.userAvatar + \')\' }"></div><div class=masthead__title>{{$root.users[vm.userId].display_name}}</div></header><div class=masthead__text>{{vm.userSite}}</div><div class=masthead__text>{{$root.users[vm.userId].bio}}</div><div class=masthead__text><a class=masthead__text href=# ng-if=vm.isSelf ng-click=vm.showUpdate()>Edit your profile</a></div></section><section class="main__section recent-contributions"><div class=main__subtitle>Recent Contributions by {{$root.users[vm.userId].display_name}}</div><nn-observations-list observations=vm.userObservations limit={{vm.mainDisplayLimit}} expandable=true></nn-observations-list></section><section class="main__section main__section--groups" ng-if=false><div class=main__subtitle>Groups</div><div class=main__groups><nn-badge class="badge badge--large" ng-if="vm.userGroups.length > 0" ng-repeat="g in vm.userGroups | orderBy: \'-updated_at\' | limitTo: vm.groupsDisplayLimit" title={{g.name}} avatar-url={{g.avatar}}></nn-badge><div ng-if="vm.userGroups.length === 0">No groups.</div></div><div class ng-if="vm.userGroups.length > vm.groupsDisplayLimit"><a href=# ng-click="vm.groupsDisplayLimit = vm.groupsDisplayLimit + vm.mainDisplayLimit">Show More</a></div></section></div>'),e.put("app/core/404.html","<section class=fourzerofour></section>"),e.put("app/explore/explore.html",'<ng-map nn-map-contain class=map default-style=false center="United States of America" ng-class="{\'has-sidebar\': !!vm.hasSidebar}"><div class="main main--with-sidebar main--explore" ng-if="!!vm.currentObservation && vm.showDetail"><nn-detail item=vm.currentObservation comments=vm.comments context=observations show=vm.showDetail></nn-detail></div><div class="sidebar sidebar--map-list"><header class=sidebar__header><div class="dropdown dropdown--explore" ng-class="{ \'dropdown--show-list\': !!vm.isObservationsListVisible }"><div class=dropdown__display ng-click="vm.isObservationsListVisible = !vm.isObservationsListVisible"><span>Observations</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=list-item ng-repeat="o in vm.observations | orderBy: \'-updated_at\'" ng-click=vm.showSidebar(o)><nn-image class=list-item__image image-url="{{o.data.image | img_preview}}"></nn-image><div class=list-item__detail><nn-comment class="comment list-item__comment" name={{$root.users[o.observer].display_name}} date={{o.updated_at}} avatar-url={{$root.users[o.observer].avatar}} comment={{o.data.text}}></nn-comment><nn-social-totals class=totals data=o></nn-social-totals></div></div></div></div></header></div><div ng-if=!!vm.currentObservation class="sidebar sidebar--slide sidebar--map-detail"><header class=sidebar__header><nn-badge class="badge sidebar__user" title={{$root.users[vm.currentObservation.observer].display_name}} subtitle={{vm.formatDate(vm.currentObservation.updated_at)}} avatar-url={{$root.users[vm.currentObservation.observer].avatar}}></nn-badge><a class=sidebar__close href=# ng-click=vm.hideSidebar()></a></header><section class=sidebar__content><nn-badge class="sidebar__title badge" title={{vm.currentProject.name}} subtitle avatar-url={{vm.currentProject.icon_url}}></nn-badge><div ng-if=vm.currentObservation.data.image nn-image class=sidebar__image image-url="{{vm.currentObservation.data.image | img_sidebar}}" ng-click="vm.showDetail = true"></div><p ng-if=vm.currentObservation.data.text class=sidebar__description>{{vm.currentObservation.data.text}}</p><nn-social-totals class=totals data=vm.currentObservation context=observations></nn-social-totals></section><section class=sidebar__comments><nn-comment class="comment list-item__comment" ng-repeat="c in vm.comments | orderBy: \'updated_at\'" name={{$root.users[c.commenter].display_name}} date={{c.updated_at}} avatar-url={{$root.users[c.commenter].avatar}} comment={{c.comment}}></nn-comment><nn-comment-form class="badge comment list-item__comment" data=vm.currentObservation context=observations></nn-comment-form></section></div><custom-marker ng-repeat="o in vm.observations" position={{o.l}}><div class=map-marker ng-click=vm.showSidebar(o)></div></custom-marker></ng-map>'),e.put("app/home/home.html",'<div class=home-content><div class="content content--what"><div class=content__image></div><div class=content__text><h1 class=content__title>What is NatureNet?</h1><h2 class=content__subtitle>A community of citizen environmentalists whose members keep making it better.</h2><div class=content__description><p>NatureNet is a community of citizen environmentalists whose members keep making it better. Active sites include the Anacostia Watershed in Washington, D.C. and Maryland, Reedy Creek Nature Center in Charlotte, North Carolina, Aspen Center for Environmental Studies in Aspen, Colorado, and your backyard!</p><br><p class=content__lineitem>LEARN about nature in your community</p><p class=content__lineitem>SHARE your observations and ideas</p><p class=content__lineitem>SHAPE nature projects in your local community</p><p class=content__lineitem>DESIGN this nature technology with your community</p><br><p>This project is supported by the National Science Foundation under Grant No. IIS-1221513 and Grant No. 1423212 to the University of North Carolina at Charlotte, Grant No. 1423207 to the University of Maryland, and Grant No. 1423338 to the University of Colorado.</p></div></div></div><div class="content content--why"><div class=content__image></div><div class=content__text><h1 class=content__title>Why join NatureNet?</h1><p class=content__description>Do you want to participate in a biodiversity-preserving project in your area? Or do you have an idea for a new project and want to get a community behind you? Join NatureNet today, and don’t just be a voice in the crowd: be part of a crowd with a voice!</p></div></div><div ng-controller="HeaderController as vm"><center><div style="margin: 50px" ng-hide=vm.isAuthenticated><a class="button button--joinnow" href=# ng-click=vm.showRegister()>Join NatureNet Today</a></div></center></div><div class=content__gallery><nn-observations-list observations=vm.observations limit=5></nn-observations-list></div></div><div class=home-items><ul class="items items--observations"><li class=items__group>Recent Observations</li><li class=item ng-repeat="o in vm.observations | orderBy: \'-updated_at\' | limitTo: vm.observationsDisplayLimit" ng-click=vm.showObservation(o)><nn-badge class="badge item__user" title={{$root.users[o.observer].display_name}} subtitle={{vm.formatDate(o.updated_at)}} avatar-url={{$root.users[o.observer].avatar}}></nn-badge><nn-social-totals class="item__totals totals -centerv" data=o></nn-social-totals></li><li class=items__action ng-if="vm.observations.length > vm.observationsDisplayLimit"><a href=# ng-click="vm.observationsDisplayLimit = vm.observationsDisplayLimit + 5">Show More</a></li></ul><ul class="items items--ideas"><li class=items__group>Recent Design Ideas</li><li class=item ng-repeat="i in vm.ideas | orderBy: \'-updated_at\' | limitTo: vm.ideasDisplayLimit"><nn-badge class="badge item__user" title={{$root.users[i.submitter].display_name}} subtitle={{vm.formatDate(i.updated_at)}} avatar-url={{$root.users[i.submitter].avatar}}></nn-badge><nn-social-totals class="item__totals totals -centerv" data=i show-dislikes=true></nn-social-totals></li><li class=items__action ng-if="vm.ideas.length > vm.ideasDisplayLimit"><a href=# ng-click="vm.ideasDisplayLimit = vm.ideasDisplayLimit + 5">Show More</a></li></ul></div><div class=home-footer><ul class=footer-items><li><a href=http://www.uncc.edu target=_blank>University of North Carolina Charlotte</a></li><li><a href=http://www.colorado.edu target=_blank>University of Colorado Boulder</a></li><li><a href=http://www.umd.edu target=_blank>University of Maryland College Park</a></li></ul></div>'),e.put("app/ideas/ideas.html",'<div class="sidebar sidebar--ideas"><header class=sidebar__header><div class="dropdown dropdown--ideas" ng-class="{ \'dropdown--show-list\': vm.group === \'idea\' }"><div class=dropdown__display ng-click="vm.group = \'idea\'"><span>Design Ideas</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=list-item ng-repeat="i in vm.ideas | orderBy: \'-updated_at\' | limitTo: vm.ideasDisplayLimit" ng-click=vm.selectIdea(i)><nn-image class=list-item__image image-url={{}}></nn-image><div class=list-item__detail><nn-comment class="comment list-item__comment" name={{$root.users[i.submitter].display_name}} date={{i.updated_at}} avatar-url={{$root.users[i.submitter].avatar}} comment={{i.content}}></nn-comment><nn-social-totals class=totals data=i show-dislikes=true></nn-social-totals></div></div><div class=sidebar__see-more ng-if="vm.ideas.length > vm.ideasDisplayLimit"><a href=# ng-click="vm.ideasDisplayLimit = vm.ideasDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div></div></div></header><header class=sidebar__header><div class="dropdown dropdown--challenges" ng-class="{ \'dropdown--show-list\': vm.group === \'challenge\' }"><div class=dropdown__display ng-click="vm.group = \'challenge\'"><span>Design Challenges</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=list-item ng-repeat="c in vm.challenges | orderBy: \'-updated_at\' | limitTo: vm.challengesDisplayLimit" ng-click=vm.selectIdea(c)><nn-image class=list-item__image image-url={{}}></nn-image><div class=list-item__detail><nn-comment class="comment list-item__comment" name={{$root.users[c.submitter].display_name}} date={{c.updated_at}} avatar-url={{$root.users[c.submitter].avatar}} comment={{c.content}}></nn-comment><nn-social-totals class=totals data=c show-dislikes=true></nn-social-totals></div></div><div class=sidebar__see-more ng-if="vm.challenges.length > vm.challengesDisplayLimit"><a href=# ng-click="vm.challengesDisplayLimit = vm.challengesDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div></div></div></header></div><div class="main main--with-sidebar main--ideas"><section class="main__section masthead"><header class=masthead__header><div class=masthead__avatar style="background-size: cover; background-image: url(\'/images/design-ideas.png\')"></div><div class=masthead__title ng-if="vm.group === \'idea\'">Design Ideas</div><div class=masthead__title ng-if="vm.group === \'challenge\'">Design Challenges</div></header><div class=masthead__text><p class=masthead__description>Crowdsourcing design is a way for anyone to contribute to the NatureNet experience. Designers change the world and the NatureNet project gives everyone a chance to be a designer. Your design ideas can be a new way of using NatureNet in your community, and new to use mobile technology for learning about sustainability or changes in the environment, or a new feature on the web site.</p><p class=masthead__directions ng-if="vm.group === \'idea\'">Join the discussion below with an idea or challenge of your own, comment on someone else\'s idea, or vote for your favorite idea.</p><p class=masthead__directions ng-if="vm.group === \'challenge\'">Do you have a design challenge for the NatureNet communities? A design challenge is a question – for example: How can NatureNet be more useful for people with their own cameras?</p><form class="masthead__form clearfix" ng-submit=vm.addIdea()><label class=masthead__input><input type=radio ng-model=vm.group value=idea> Design Idea</label> <label class=masthead__input><input type=radio ng-model=vm.group value=challenge> Design Challenge</label><div><textarea class=masthead__textarea placeholder="{{ vm.group === \'idea\' ? \'Write a design idea...\' : \'Write a design challenge...\' }}" ng-model=vm.content>\r\n          </textarea><div class=add-me>Adding photos coming soon</div></div>Choose Idea Type:<select ng-options="item for item in vm.ideaTypes" ng-model=vm.type></select><input class="button button--masthead" value=submit type=submit></form></div><div ng-if="vm.selectedIdea && vm.showDetail"><nn-detail item=vm.selectedIdea comments=vm.comments context=ideas show=vm.showDetail></nn-detail></div></section></div>'),e.put("app/layout/header.html",'<a class=head-logo href="/" ng-click=vm.toggleMap(false)></a><div class=head-menu><div class=head-menu__list><a class="head-menu__item item-explore" ng-click=vm.toggleMap() ng-class="{\'is-current\': !!vm.isMapActive}" href=#>Explore</a> <a class=head-menu__item ng-repeat="r in vm.navRoutes" ng-class=vm.getClasses(r) ng-bind-html=r.settings.content ng-click=vm.toggleMap(false) ui-sref={{r.name}}></a></div><div class=head-menu__foot style="display: none"></div></div><div class=head-user><div ng-hide=vm.isAuthenticated><a class="button head-user__item button--join" href=# ng-click=vm.showRegister()>Join</a> <a class="button head-user__item button--signin" href=# ng-click=vm.showSignin()>Sign In</a></div><div ng-show=vm.isAuthenticated><nn-badge class="badge head-user__item badge--header" ng-click=vm.signOut() avatar-url={{$root.users[vm.userUid].avatar}} title="Welcome, {{$root.users[vm.userUid].display_name}}" subtitle="Click to Sign Out"></nn-badge><a class="button head-user__item button--signout" href=# ng-click=vm.signOut()>Sign Out</a></div></div>'),e.put("app/layout/shell.html",'<div class=page-logo><a href=#><i class=icon></i></a></div><header class=page-head ng-include="\'app/layout/header.html\'" ng-controller="HeaderController as vm"></header><main class=page-main ui-view></main><footer class=page-foot></footer><div class=page-map ng-include="\'app/explore/explore.html\'" ng-controller="ExploreController as vm" ng-class="{\'has-map\': !!hasMap}"></div><div class="page-over overlay" ng-hide=!vm.isAuth ng-click=vm.broadcastHideAuth()><div ng-include="\'app/auth/auth.html\'" ng-controller="AuthController as vm"></div></div>'),e.put("app/projects/projects.html",'<div class="sidebar sidebar--projects"><header class="sidebar__header sidebar__header--projects"><div class="dropdown dropdown--projects" ng-class="{ \'dropdown--show-list\': !!vm.isProjectsListVisible }"><div class=dropdown__display ng-click="vm.isProjectsListVisible = !vm.isProjectsListVisible"><span>Projects</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=dropdown__option ng-repeat="p in vm.projects | orderBy: \'-latest_contribution\'" ng-click=vm.updateProjectId(p.id)><nn-badge class=badge title={{p.name}} subtitle avatar-url={{p.icon_url}}></nn-badge></div></div></div></header></div><div class="main main--with-sidebar main--projects"><section class="main__section masthead"><header class=masthead__header><div class=masthead__avatar style="background-image: url(\'{{$root.projects[vm.projectId].icon_url}}\')"></div><div class=masthead__title>{{$root.projects[vm.projectId].name}}</div></header><div class=masthead__text>{{$root.projects[vm.projectId].description}}</div></section><section class="main__section recent-contributions"><div class=main__subtitle>Recent Contributions</div><nn-observations-list observations=vm.projectObservations limit={{vm.displayLimit}} expandable=true></nn-observations-list></section></div>'),e.put("app/widgets/nn-badge.html","<div class=badge__avatar style=\"background-image: url('{{avatarUrl || '/images/default-avatar.png' }}')\"></div><div class=badge__text><p class=badge__title>{{title}}</p><p ng-if=!!subtitle class=badge__subtitle>{{subtitle}}</p></div>"),e.put("app/widgets/nn-comment-form.html",'<form class="badge comment" ng-submit=doComment()><div class=badge__avatar style="background-image: url(\'{{(avatarUrl || \'/images/default-avatar.png\') | img_thumb }}\')"></div><input type=text class=comment__input placeholder="Write a comment..." ng-model=comment> <input type=submit style="visibility: hidden;"></form>'),e.put("app/widgets/nn-comment.html",'<nn-badge class="badge comment__user" title={{name}} subtitle={{formatDate(date)}} avatar-url={{avatarUrl}}></nn-badge><div class=comment__text>{{comment}}</div>'),e.put("app/widgets/nn-detail.html",'<div class=overlay-partial><div class=modal__header><div class=modal__close ng-click=hide()></div></div><div class="modal -center" ng-click=$event.stopPropagation()><div class=detail><nn-badge ng-if=item.submitter class="badge detail__user" title={{$root.users[item.submitter].display_name}} subtitle={{formatDate(item.updated_at)}} avatar-url={{avatarUrl}}></nn-badge><nn-badge ng-if=item.observer class="badge detail__user" title={{$root.users[item.observer].display_name}} subtitle={{formatDate(item.updated_at)}} avatar-url={{avatarUrl}}></nn-badge><nn-status class=detail__status status=item.status></nn-status><div class=detail__description ng-if=item.content>{{item.content}}</div><div class=detail__description ng-if=item.data.text>{{item.data.text}}</div><img class=detail__image src="{{item.icon_url | img_large }}" ng-if=item.icon_url> <img class=detail__image src="{{item.data.image | img_large }}" ng-if=item.data.image><nn-social-totals class="totals detail__totals" data=item context={{context}} show-dislikes="{{context === \'ideas\'}}"></nn-social-totals><section class=detail__comments><nn-comment class="comment detail__comment" ng-repeat="c in comments | orderBy: \'updated_at\'" name={{$root.users[c.commenter].display_name}} date={{c.updated_at}} avatar-url={{$root.users[c.commenter].avatar}} comment={{c.comment}}></nn-comment><nn-comment-form class="badge comment list-item__comment" data=item context={{context}}></nn-comment-form></section></div></div></div>'),e.put("app/widgets/nn-dropdown.html",'<div class=dropdown ng-class="{ \'dropdown--show-list\': !!listVisible }"><div class=dropdown__display ng-click=toggleOptions()><span ng-if=!isPlaceholder>{{display}}</span> <span class=placeholder ng-if=isPlaceholder>{{placeholder}}</span><div class=dropdown__action></div></div><div class=dropdown__options><div class=dropdown__option ng-repeat="o in options" ng-class=isCurrent(o) ng-click=selectOption(o)><span>{{property !== undefined ? o[property] : o}}</span></div></div></div>'),e.put("app/widgets/nn-image.html","<div ng-if=showDefault style=\"background-image: url('/images/default-image.png')\"></div><div ng-if=!showDefault style=\"background-image: url('{{imageUrl}}')\"></div>"),e.put("app/widgets/nn-observations-list.html",'<div class=main__observations><div class="list-item list-item--square" ng-if="observations.length > 0" ng-repeat="o in observations | orderBy: \'-updated_at\' | limitTo: limit" ng-click=showObservation(o)><nn-image class=list-item__image image-url="{{o.data.image | img_thumb}}"></nn-image><div class=list-item__detail><nn-badge class="badge item__user" title={{$root.users[o.observer].display_name}} subtitle={{formatDate(o.updated_at)}} avatar-url={{$root.users[o.observer].avatar}}></nn-badge></div></div><div ng-if="observations.length === 0">No contributions.</div></div><div class ng-if="expandable && (observations.length > limit)"><a href=# ng-click=incrementLimit()>Show More</a></div>'),e.put("app/widgets/nn-social-totals.html",'<div class="totals__total totals__total--likes" ng-class="{ totals__liked: liked }" ng-click=doLike()>{{likes}}</div><div class="totals__total totals__total--dislikes" ng-class="{ totals__disliked: disliked }" ng-if=showDislikes ng-click=doDislike()>{{dislikes}}</div><div class="totals__total totals__total--comments">{{comments}}</div>'),e.put("app/widgets/nn-status.html",'<div ng-switch on=status><div class="status status__discussing" ng-switch-when=doing><div class=status__text><p class=status__title>Discussing</p></div><div class=status__icon style="background-image: url(\'images/discussing.png\')"></div></div><div class="status status__completed" ng-switch-when=done><div class=status__text><p class=status__title>Completed</p></div><div class=status__icon style="background-image: url(\'images/completed.png\')"></div></div><div ng-switch-default><div></div></div></div>')}]);